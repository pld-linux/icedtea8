diff -dur icedtea-3.1.0.orig/acinclude.m4 icedtea-3.1.0/acinclude.m4
--- icedtea-3.1.0.orig/acinclude.m4	2016-07-25 05:31:28.876207700 +0200
+++ icedtea-3.1.0/acinclude.m4	2016-09-20 12:56:21.236580626 +0200
@@ -2,10 +2,18 @@
 [
   case "${target_cpu}" in
     x86_64)
-      BUILD_ARCH_DIR=amd64
-      INSTALL_ARCH_DIR=amd64
-      JRE_ARCH_DIR=amd64
-      ARCHFLAG="-m64"
+      case "${host}" in
+        *x32)
+          BUILD_ARCH_DIR=x32
+          INSTALL_ARCH_DIR=x32
+          JRE_ARCH_DIR=x32
+          ;;
+        *)
+          BUILD_ARCH_DIR=amd64
+          INSTALL_ARCH_DIR=amd64
+          JRE_ARCH_DIR=amd64
+          ARCHFLAG="-m64"
+      esac
       ;;
     i?86)
       BUILD_ARCH_DIR=i586
@@ -641,7 +649,7 @@
   ZERO_LIBARCH="${INSTALL_ARCH_DIR}"
   dnl can't use AC_CHECK_SIZEOF on multilib
   case "${ZERO_LIBARCH}" in
-    arm|i386|ppc|s390|sh|sparc)
+    arm|i386|ppc|s390|sh|sparc|x32)
       ZERO_BITSPERWORD=32
       ;;
     aarch64|alpha|amd64|ia64|ppc64|ppc64le|s390x|sparcv9)
@@ -2036,7 +2044,15 @@
     arm64) ;;
     i?86) ;;
     sparc) ;;
-    x86_64) ;;
+    x86_64)
+      case "${host}" in
+        *x32)
+          has_native_hotspot_port=no
+          ;;
+        *)
+	  ;;
+      esac
+      ;;
     powerpc64) ;;
     powerpc64le) ;;
     *) has_native_hotspot_port=no;
